{% extends 'base.html' %}
<title>{% block title %}Search{% endblock title %}</title>
<body>
    {% block filter %}
    <button type="button" class="btn btn-primary mx-2" data-toggle="modal" data-target="#exampleModal">
        Filter
    </button>
    {% if phone.count or laptop.count or tvs.count %}
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#exampleModal1">
        Sort
    </button>
    {% endif %}
    {% endblock filter %}
    {% block body %}
    <div class="mx-md-4 p-md-4">
        <h3 class="text-center mb-md-3">Search Result</h3>
        <div class="row no-gutters text-center m-auto">
            {% if phone.count or tvs.count or laptop.count %}
                {% if phone.count %}
                    {% for i in phone %}
                        <div class="card col-md-2 text-center p-2">
                            <div class="card-img-top text-center">
                                <img src="/media/{{i.pimg}}" alt="" class="img-responsive phone" style="height:150px;width:200px;object-fit: contain">
                            </div>
                            <div class="card-body justify-content-center d-flex flex-column mb-0 p-2">
                                <p class="p-0 m-0 text-success font-weight-bold">Rs <script>money("{{ i.price }}")</script></p>
                                <p class="m-0 p-0" style="font-size:13px;">{{i.memory|truncatewords:7}}</p>
                                <p class="p-0 m-0 text-info font-weight-bold">{{ i.pdesc|cut:"From " }}</p>
                            </div>
                            <div class="card-footer border-0 bg-white p-0 m-0">
                                <a href="/phone/view/{{i.id}}" class="btn btn-link bg-dark text-white my-2">View Now</a>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
                {% if laptop.count %}
                    {% for i in laptop %}
                        <div class="card col-md-2 text-center p-2">
                            <div class="card-img-top text-center">
                                <img src="/media/{{i.pimg}}" alt="" class="img-responsive phone" style="height:150px;width:200px;object-fit: contain">
                            </div>
                            <div class="card-body justify-content-center d-flex flex-column mb-0 p-2">
                                <p class="p-0 m-0 text-success font-weight-bold">Rs <script>money("{{ i.price }}")</script></p>
                                <p class="m-0 p-0" style="font-size:13px;">{{i.memory|truncatewords:9}}</p>
                                <p class="p-0 m-0 text-info font-weight-bold">{{ i.pdesc|cut:"From " }}</p>
                            </div>
                            <div class="card-footer border-0 bg-white p-0 m-0">
                                <a href="/laptop/view/{{i.id}}" class="btn btn-link bg-dark text-white my-2">View Now</a>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
                {% if tvs.count %}
                    {% for i in tvs %}
                        <div class="card col-md-2 text-center p-2">
                            <div class="card-img-top text-center">
                                <img src="/media/{{i.pimg}}" alt="" class="img-responsive phone" style="height:150px;width:200px;object-fit: contain">
                            </div>
                            <div class="card-body">
                                <p class="p-0 m-0 text-success font-weight-bold">Rs <script>money("{{ i.price }}")</script></p>
                                <p class="m-0 p-0" style="font-size:13px;">{{i.resolution|truncatewords:8}}</p>
                                <p class="p-0 m-0 text-info font-weight-bold">{{ i.pdesc|cut:"From " }}</p>
                            </div>
                            <div class="card-footer border-0 bg-white p-0 m-0">
                                <a href="/tvs/view/{{i.id}}" class="btn btn-link bg-dark text-white my-2">View Now</a>
                            </div>
                        </div>
                    {% endfor %}
                {% endif %}
            {% else %}
                <div class="card mx-auto col-md-6 text-center">
                <div class="card-body">
                    <h4>No Product Found</h4>
                </div>
                </div>
            {% endif %}
        </div>
    </div>
    {% endblock %}
</body>